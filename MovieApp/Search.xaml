<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MovieApp.Search"
    BackgroundColor="#0F0F0F">

    <Grid RowDefinitions="Auto,Auto,*">

        <!-- Search Bar -->
        <Grid Grid.Row="0" Margin="15">
            <Entry x:Name="SearchEntry"
                   Placeholder="Search movies..."
                   TextChanged="SearchEntry_TextChanged"
                   BackgroundColor="#1a1a1a"
                   TextColor="White"
                   HorizontalOptions="FillAndExpand"/>

            <Button x:Name="ClearButton"
                    Text="X"
                    Clicked="ClearSearch_Clicked"
                    IsVisible="False"
                    BackgroundColor="#FFB800"
                    TextColor="Black"
                    HorizontalOptions="End"
                    VerticalOptions="Center"/>
        </Grid>

        <!-- Genre Chips -->
        <ScrollView Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalScrollBarVisibility="Never">
            <HorizontalStackLayout x:Name="GenreChipsContainer"
                                   Spacing="10"
                                   Padding="15">
            </HorizontalStackLayout>
        </ScrollView>

        <!-- Results -->
        <ScrollView Grid.Row="2" x:Name="ResultsScrollView">
            <VerticalStackLayout x:Name="MoviesContainer"
                                 Padding="10"
                                 Spacing="10">
                <!-- Movie cards added dynamically -->
            </VerticalStackLayout>
        </ScrollView>

        <!-- Loading -->
        <ActivityIndicator x:Name="LoadingIndicator"
                           IsRunning="False"
                           IsVisible="False"
                           Color="#FFB800"
                           VerticalOptions="Center"
                           HorizontalOptions="Center"/>

        <!-- No Results -->
        <Label x:Name="NoResultsView"
               Text="No movies found"
               IsVisible="False"
               TextColor="#777"
               HorizontalOptions="Center"
               VerticalOptions="Center"/>
    </Grid>
</ContentPage>
